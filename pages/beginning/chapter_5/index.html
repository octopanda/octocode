<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="author" content="octopanda" />
</head>
<body>
<!--
	Beginning JavaScript
	Chapter Five
	JavaScript - An Object-Based Language
-->
<!-- Creating an object
	<script>
		var myArrayRef = new Array(0, 1, 2);
		var mySecondArrayRef = myArrayRef;
		myArrayRef[0] = 100;
		alert(mySecondArrayRef);						// 100, 1, 2

		var myArrayRef = new Array(0, 1, 2);
		var mySecondArrayRef = myArrayRef.concat();
		myArrayRef[0] = 100;
		alert(mySecondArrayRef);						// 0, 1, 2

		var myVariable = "ABC";
		var mySecondVariable = myVariable;
		myVariable = "DEF";
		alert(mySecondVariable);						// ABC

		var myString = new Object();
		myString.a = "ABC";
		var mySecondString = myString;
		myString.a = "DEF";
		alert(mySecondString.a);						// DEF

		var myString = new Object("ABC");
		var mySecondString = myString;
		myString = "DEF";
		alert(mySecondString);							// ABC
	</script>
-->
<!-- Finding a string inside another string - the indexOf() and lastIndexOf() methods.
	<script>
		var myString = "Hello jeremy. How are you jeremy";
		var foundAtPosition;
		foundAtPosition = myString.indexOf("jeremy");
		alert(foundAtPosition);
		foundAtPosition = myString.lastIndexOf("jeremy");
		alert(foundAtPosition);
	</script>
-->
<!-- Counting occurrences of substrings.
	<script>
		var myString = "Welcome to Wrox books. The Wrox website is www.wrox.com. Visit the Wrox website today. Thanks for buying Wrox";
		var foundAtPosition = 0;
		var wroxCount = 0;
		while(foundAtPosition != -1) {
			foundAtPosition = myString.indexOf("Wrox", foundAtPosition);
			console.log(foundAtPosition);
			if(foundAtPosition != -1) {
				wroxCount++;
				foundAtPosition++;
			}
		}
		document.write("There are " + wroxCount + " occurrences of the word Wrox");
	</script>
	<script>
		var myString = "Welcome to Wrox books. The Wrox website is www.wrox.com. Visit the Wrox website today. Thanks for buying Wrox";
		var foundAtPosition = myString.length - 1;
		var wroxCount = 0;
		while(foundAtPosition != -1) {
			foundAtPosition = myString.lastIndexOf("Wrox", foundAtPosition);
			console.log(foundAtPosition);
			if(foundAtPosition != -1) {
				wroxCount++;
				foundAtPosition--;
			}
		}
		document.write("There are " + wroxCount + " occurrences of the word Wrox");
	</script>
-->
<!-- Copying part of a string - the substr() and substring() methods.
	<script>
		var myString = "JavaScript";
		var mySubString = myString.substring(0,4);
		document.write(mySubString);
	</script>
	<script>
		var myString = "JavaScript";
		var mySubString = myString.substr(0,4);
		document.write(mySubString);
	</script>
	<script>
		var fileName = window.location.href;
		var fileName = fileName.substr(fileName.lastIndexOf("/") + 1);
		document.write("The file name of this page is " + fileName);
	</script>
-->
<!-- Converting Case - the toLowerCase() and toUpperCase() methods.
	<script>
		var myString = "I Don't Care About Case.";
		if(myString.toLowerCase() == "i don't care about case.") {
			alert(myString.toUpperCase());
		}
	</script>
-->
<!-- Selecting a single character from a string - the charAt() and charCodeAt() methods.
	<script>
		var myString = prompt("Enter some text", "Hello World!");
		var theLastChar = myString.charAt(myString.length - 1);
		document.write("The last character is " + theLastChar);
	</script>
	<script>
		var myString = prompt("Enter some text", "Hello World!");
		var theFirstCharCode = myString.charCodeAt(0);
		document.write("The first character code is " + theFirstCharCode);
	</script>
-->
<!-- Checking a character's case.
	<script>
		function checkCharType(charToCheck) {
			var returnValue = "O";
			var charCode = charToCheck.charCodeAt(0);
			if(charCode >= "A".charCodeAt(0) && charCode <= "Z".charCodeAt(0)) {
				returnValue = "U";
			} else if(charCode >= "a".charCodeAt(0) && charCode <= "z".charCodeAt(0)) {
				returnValue = "L";
			} else if(charCode >= "0".charCodeAt(0) && charCode <= "9".charCodeAt(0)) {
				returnValue = "N";
			}
			return returnValue;
		}
		var myString = prompt("Enter some text", "Hello World!");
		switch(checkCharType(myString)) {
			case "U":
				document.write("First character was upper case");
				break;
			case "L":
				document.write("First character was lower case");
				break;
			case "N":
				document.write("First character was a number");
				break;
			default:
				document.write("First character was not a character or a number");
		}
	</script>
-->
<!-- Converting character code to a string - the fromCharCode() method.
	<script>
		var myString = "";
		var charCode;
		for(charCode = 48; charCode <= 122; charCode++) {
			myString += String.fromCharCode(charCode);
		}
		document.write(myString);								// 0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\]^_`abcdefghijklmnopqrstuvwxyz
	</script>
-->
<!-- Finding out how many elements are in an array - the length property.
	<script>
		var names = new Array();
		names[0] = "Paul";
		names[1] = "Jeremy";
		names[11] = "Nick";
		document.write("The last name is " + names[names.length - 1]);
		alert("names[-1]: " + names[-1] + ", names[2]: " + names[2] + ", names[12]: " + names[12] + ". ");
	</script>
-->
<!-- Joining arrays - the concat() method.
	<script>
		var names = new Array("Paul", "Jeremy", "Nick");
		var ages = new Array(31, 30, 31);
		var jobs = new Array("JSer", "Java Engineer", ".Net Engineer");
		var concatArray = names.concat(ages, jobs);
		console.log(concatArray);
	</script>
-->
<!-- Copying part of an array - the slice() method.
	<script>
		var names = new Array("Paul", "Sarah", "Jeremy", "Adam", "Bob");
		var slicedArray = names.slice(1, 3);
		console.log(slicedArray);
	</script>
-->
<!-- Converting an array into a single string - the join() method.
	<script>
		var myShopping = new Array("Eggs", "Milk", "Potatoes", "Cereal", "Banana");
		var myShoppingList = myShopping.join("<br />");
		document.write(myShoppingList);
	</script>
-->
<!-- Putting your array in order - the sort() method.
	<script>
		var names = new Array("Paul", "Sarah", "Jeremy", "Adam", "Bob");
		var elementIndex;
		names.sort();
		document.write("Now the names again in order" + "<br />");
		for(elementIndex = 0; elementIndex < names.length; elementIndex++) {
			document.write(names[elementIndex] + "<br />");
		}
	</script>
	<script>
		var arr = [10, 5, 40, 25, 1000, 1, "d"];
		arr.sort(function(){ return arguments[0] - arguments[1]; });
		console.log(arr);
	</script>
-->
<!-- Putting your array into reverse order - the reverse() method.
	<script>
		var myShopping = new Array("Eggs", "Milk", "Potatoes", "Cereal", "Banana");
		myShopping.reverse();
		var myShoppingList = myShopping.join("<br />");
		document.write(myShoppingList);
	</script>
-->
<!-- Sorting an array.
	<script>
		var myShopping = new Array("Eggs", "Milk", "Potatoes", "Cereal", "Banana");
		var ord = prompt("Enter 1 for alphabetical order, and -1 for reverse order", 1);
		if(1 == ord) {
			myShopping.sort();
			document.write(myShopping.join("<br />"));
		} else if(-1 == ord) {
			myShopping.sort();
			myShopping.reverse();
			document.write(myShopping.join("<br />"));
		} else {
			document.write("That is not a valid input");
		}
	</script>
-->
<!-- Finding array elements - the indexOf() and lastIndexOf() methods.
	<script>
		var colors = new Array("red", "blue", "green", "blue");
		alert(colors.indexOf("red"));
		alert(colors.lastIndexOf("blue"));
	</script>
-->
<!-- Testing each element - the every(), some(), and filter() methods.
	<script>
		var numbers = new Array(1, 2, 3, 4, 5);
		function isLessThan3(value, index, array) {
			return value < 3;
		}
		alert(numbers.every(isLessThan3));
	</script>
	<script>
		var numbers = new Array(1, 2, 3, 4, 5);
		function isLessThan3(value, index, array) {
			return value < 3;
		}
		alert(numbers.some(isLessThan3));
	</script>
	<script>
		var numbers = new Array(1, 2, 3, 4, 5);
		function isLessThan3(value, index, array) {
			return value < 3;
		}
		if(numbers.some(isLessThan3)) {
			var result = numbers.filter(isLessThan3);
			alert("These numbers are less than 3: " + result);
		}
	</script>
-->
<!-- Operating on elements - the forEach() and map() methods.
	<script>
		var numbers = new Array(1, 2, 3, 4, 5);
		function doubleAndAlert(value, index, array) {
			var result = value * 2;
			alert(result);
		}
		numbers.forEach(doubleAndAlert);
	</script>
	<script>
		var numbers = new Array(1, 2, 3, 4, 5);
		function doubleAndAlert(value, index, array) {
			var result = value * 2;
			return result;
		}
		var doubledNumbers = numbers.map(doubleAndAlert);
		alert("The doubled numbers are: " + doubledNumbers);
	</script>
-->
<!-- Math object's property - PI.
	<script>
		var radius = prompt("Give the radius of the circle", "");
		var area = Math.PI * radius * radius;
		document.write("The area is " + area);
	</script>
-->
<!-- The abs() method.
	<script>
		var myNumber = -101;
		document.write(Math.abs(myNumber));
	</script>
-->
<!-- Finding the largest and smallest numbers: the min() and max() methods.
	<script>
		var arr = [1,2,23,4,5,6,7,83,23,4,234,3];
		var min = Math.min(30.1, 30.2);
		var max = Math.max(21, 22);
		var arrMin = Math.min.apply(null, arr);
		var arrMax = Math.max.apply(null, arr);
		console.log(min, max, arrMin, arrMax);
	</script>
-->
<!-- Rounding Numbers.
	<script>
		var myNumber = 101.01;
		document.write(Math.ceil(myNumber) + "<br />");
		document.write(parseInt(myNumber));
	</script>
-->
<!-- The round() method.
	<script>
		var myNumber = -44.49;
		document.write(Math.round(myNumber) + "<br />");
	</script>
-->
<!-- Rounding methods results calculator.
	<script>
		var myNumber = prompt("Enter the number to be rounded", " ");
		document.write("<h3>The number you entered was " + myNumber + "</h3>");
		document.write("<p>The rounding results for this number are</p>");
		document.write("<table width='150' border='1'>");
		document.write("<tr><th>Method</th><th>Result</th></tr>");
		document.write("<tr><td>parseInt()</td><td>" + parseInt(myNumber) + "</td></tr>");
		document.write("<tr><td>ceil()</td><td>" + Math.ceil(myNumber) + "</td></tr>");
		document.write("<tr><td>floor()</td><td>" + Math.floor(myNumber) + "</td></tr>");
		document.write("<tr><td>round()</td><td>" + Math.round(myNumber) + "</td></tr>");
		document.write("</table>");
	</script>
-->
<!-- The random() method.
	<script>
		var throwCount;
		var diceThrow;
		for(throwCount = 0; throwCount < 10; throwCount++) {
			diceThrow = (Math.floor(Math.random() * 6) + 1);
			document.write(diceThrow + "<br />");
		}
	</script>
-->
<!-- The pop() method.
	<script>
		function fix(fixNumber,decimalPlaces) {
			var div = Math.pow(10, decimalPlaces);
			fixNumber = Math.round(fixNumber * div) / div;
			return fixNumber;
		}
		var number1 = prompt("Enter the number with decimal places you want to fix", "");
		var number2 = prompt("How many decimal places do you want?", "");
		document.write(number1 + " fixed to " + number2 + " decimal places is: ");
		document.write(fix(number1, number2));
	</script>
-->
<!-- Create a number object.
	<script>
		var firstNumber = new Number(123);
		var secondNumber = new Number("123");
		var thirdNumber = 123.765;
		var fourthNumber = "123.567";
		console.log(firstNumber);
		console.log(secondNumber);
		console.log(typeof thirdNumber);
		console.log(typeof fourthNumber);
	</script>
-->
<!-- The toFixed() method.
	<script>
		var itemCost = 9.99;
		var itemCostAfterTax = itemCost * 1.075;
		document.write("Item cost is $" + itemCostAfterTax + "<br />");
		itemCostAfterTax = itemCostAfterTax.toFixed(2);
		document.write("Item cost fixed to 2 decimal places is $" + itemCostAfterTax);
	</script>
-->
<!-- Creating a date object.
	<script>
		var theDate1 = new Date();
		var theDate2 = new Date(949278000000);
		var theDate3 = new Date("31 January 2010");
		var theDate4 = new Date(2010, 6, 31, 15, 35, 20, 20);
		console.log(theDate1);
		console.log(theDate2);
		console.log(theDate3);
		console.log(theDate4);
	</script>
-->
<!-- Using the date object to retrieve the current date.
	<script>
		var months = new Array("January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December");
		var dateNow = new Date();
		var yearNow = dateNow.getFullYear();
		var monthNow = months[dateNow.getMonth()];
		var dayNow = dateNow.getDate();
		var daySuffix;
		switch(dayNow) {
			case 1:
			case 21:
			case 31:
				daySuffix = "st";
				break;
			case 2:
			case 22:
				daySuffix = "nd";
				break;
			case 3:
			case 23:
				daySuffix = "rd";
				break;
			default:
				daySuffix = "th";
				break;
		}
		document.write("It is the " + dayNow + daySuffix + " day");
		document.write(" in the month of " + monthNow);
		document.write(" in the year " + yearNow);
	</script>
-->
<!-- Setting date values.
	<script>
		var nowDate = new Date();
		var currentDay = nowDate.getDate();		
		nowDate.setDate(currentDay + 28);
		console.log(nowDate);
		var newDate = new Date(nowDate);
		newDate.setMonth(newDate.getMonth() + 12);
		console.log(newDate);
	</script>
-->
<!-- Writing the current time into a web page.
	<div id="view"></div>
	<script>
		var greeting;
		var nowDate = new Date();
		var nowHour = nowDate.getHours();
		var nowMintue = nowDate.getMinutes();
		var nowSecond = nowDate.getSeconds();
		if(nowMintue < 10) {
			nowMintue = "0" + nowMintue;
		}
		if(nowSecond < 10) {
			nowSecond = "0" + nowSecond;
		}
		if(nowHour < 12) {
			greeting = "Good Morning";
		} else if(nowHour < 17) {
			greeting = "Good Afternoon";
		} else {
			greeting = "Good Evening";
		}
		function view() {
			nowDate = new Date();
			document.getElementById("view").innerHTML = "<h4>" + greeting + " and welcome to my website" + "</h4>";
			document.getElementById("view").innerHTML += "According to your clock the time is ";
			document.getElementById("view").innerHTML += nowDate.toTimeString().substr(0, 8);
		}
		var scroll = setInterval("view()", 1000);
	</script>
-->
<!-- Setting time values.
	<script>
		var nowDate = new Date();
		nowDate.setHours(9);
		nowDate.setMinutes(57);
		alert(nowDate);
		nowDate.setMinutes(64);
		alert(nowDate);
	</script>
-->
<!-- Creating new types of objects(reference types).
	<script>
		function CustomerBooking(bookingId, customerName, film, showDate){
			this.bookingId = bookingId;
			this.customerName = customerName;
			this.film = film;
			this.showDate = showDate;
		}
		CustomerBooking.prototype.getBookingId = function(){
			return this.bookingId;
		}
		CustomerBooking.prototype.setBookingId = function(bookingId){
			this.bookingId = bookingId;
		}
		CustomerBooking.prototype.getCustomerName = function(){
			return this.customerName;
		}
		CustomerBooking.prototype.setCustomerName = function(customerName){
			this.customerName = customerName;
		}
		CustomerBooking.prototype.getFilm = function(){
			return this.film;
		}
		CustomerBooking.prototype.setFilm = function(film){
			this.film = film;
		}
		CustomerBooking.prototype.getShowDate = function(){
			return this.showDate;
		}
		CustomerBooking.prototype.setShowDate = function(showDate){
			this.showDate = showDate;
		}
		var firstBooking = new CustomerBooking(1234, "Robert Smith", "Raging Bull", "25 July 2004 18:20");
		var secondBooking = new CustomerBooking(1244, "Arnold Palmer", "Toy Story", "27 July 2004 20:15");
		document.write("1st booking persons name is " + firstBooking.getCustomerName() + "<br />");
		document.write("2nd booking persons name is " + secondBooking.customerName) + "<br />";
		// Cinema type
		function Cinema(){
			this.bookings = new Array();
		}
		Cinema.prototype.addBooking = function(bookingId, customerName, film, showDate){
			this.bookings[bookingId] = new CustomerBooking(bookingId, customerName, film, showDate);
		}
		Cinema.prototype.getBookingsTable = function(){
			var booking;
			var bookingsTableHTML = "<table border='1'>";
			bookingsTableHTML += "<tr>";
			bookingsTableHTML += "<th>BookingId</th>";
			bookingsTableHTML += "<th>CustomerName</th>";
			bookingsTableHTML += "<th>Film</th>";
			bookingsTableHTML += "<th>ShowDate</th>";
			bookingsTableHTML += "</tr>";
			for(booking in this.bookings) {
				bookingsTableHTML += "<tr>";
				bookingsTableHTML += "<td>" + this.bookings[booking].getBookingId() + "</td>";
				bookingsTableHTML += "<td>" + this.bookings[booking].getCustomerName() + "</td>";
				bookingsTableHTML += "<td>" + this.bookings[booking].getFilm() + "</td>";
				bookingsTableHTML += "<td>" + this.bookings[booking].getShowDate() + "</td>";
				bookingsTableHTML += "</tr>";
			}
			bookingsTableHTML += "</table>";
			return bookingsTableHTML;
		}
		var londonOdeon = new Cinema();
		londonOdeon.addBooking(342, "Arnold Palmer", "Toy Story", "15th July 2009 20:15");
		londonOdeon.addBooking(335, "Louise Anderson", "The Shawshank Redemption", "27th July 2009 11:25");
		londonOdeon.addBooking(566, "Catherine Hughes", "Never Say Never", "27th July 2009 17:55");
		londonOdeon.addBooking(324, "Beci Smith", "Shrek", "29th July 2009 20:15");
		document.write(londonOdeon.getBookingsTable());
	</script>
-->
</body>
</html>